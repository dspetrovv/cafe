{"version":3,"file":"static/js/211.b75a7339.chunk.js","mappings":"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","sources":["webpack://cafe/./src/_components/Tabs/tabs.module.scss?508d","_components/Tabs/Tabs.jsx","_components/Modals/PizzaModal/components/PizzaModalIngredient.jsx","_components/Modals/PizzaModal/components/PizzaModalIngredients.jsx","_components/Modals/PizzaModal/components/PizzaModalTotal.jsx","_components/Modals/PizzaModal/PizzaModal.jsx","webpack://cafe/./src/_components/Modals/PizzaModal/pizza-modal.module.scss?e9ba"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"tab\":\"tabs_tab__0uHOh\"};","import React from 'react';\nimport Button from '../Buttons/Button';\nimport styles from './tabs.module.scss';\n\nconst Tabs = ({ tabs = [], onChange }) => {\n  const onClickHandler = (id) => {\n    onChange(id);\n  };\n\n  return (\n    <div className={styles.tab}>\n      {tabs.map((tab) => (\n        <Button\n          key={tab.id}\n          white={!tab.selected}\n          onClick={() => onClickHandler(tab.id)}\n        >\n          {tab.title}\n        </Button>\n      ))}\n    </div>\n  );\n};\n\nexport default Tabs;\n","import React from 'react';\nimport NoPhoto from '@/images/logo-mini.png';\nimport CheckboxButton from '@/_components/Buttons/CheckboxButton';\n\nconst PizzaModalIngredient = ({ styles, element, onChange, isOptional }) => {\n  const { id, name, photo, price, selected } = element;\n  const onChangeHandler = () => {\n    onChange(id, isOptional);\n  };\n  let image = photo;\n\n  if (!image) {\n    image = NoPhoto;\n  }\n\n  return (\n    <div className={styles['product-modal__info-ingredient']}>\n      <CheckboxButton\n        outline\n        initialChecked={selected}\n        onChange={onChangeHandler}\n      >\n        <img src={NoPhoto} alt=\"product_photo\" />\n      </CheckboxButton>\n      <span\n        className={styles['product-modal__info-ingredient-name']}\n        title={name}\n      >\n        {name}\n      </span>\n      {price && (\n        <span className={styles['product-modal__info-ingredient-price']}>\n          {price} ₽\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default PizzaModalIngredient;\n","import withSlider from '@/_hocs/Slider/withSlider';\nimport PizzaModalIngredient from './PizzaModalIngredient';\n\nconst PizzaModalIngredients = ({\n  ingredients,\n  updateIngredients,\n  styles,\n  ...otherProps\n}) => {\n  return withSlider(PizzaModalIngredient, {\n    count: 3,\n    elementClassName: styles['product-modal__info-ingredient'],\n    elements: ingredients,\n    listClassName: styles['product-modal__info-ingredients'],\n  })({\n    styles,\n    onChange: updateIngredients,\n    ...otherProps,\n  });\n};\n\nexport default PizzaModalIngredients;\n","import React from 'react';\nimport Button from '@/_components/Buttons/Button';\n\nconst PizzaModalTotal = ({ totalPrice, onSelectPizza }) => {\n  return (\n    <>\n      <h2>Итого: {totalPrice} ₽</h2>\n      <Button onClick={onSelectPizza}>Добавить</Button>\n    </>\n  );\n};\n\nexport default PizzaModalTotal;\n","import React, { useMemo } from 'react';\nimport Photo from '@/images/peperoni.png';\nimport withModalWrapper from '@/_hocs/Modal/withModalWrapper';\nimport Tabs from '@/_components/Tabs';\nimport PizzaModalIngredients from './components/PizzaModalIngredients';\nimport PizzaModalTotal from './components/PizzaModalTotal';\nimport styles from './pizza-modal.module.scss';\n\n// С диаметром пиццы должна расти и стоимость дополнительных ингридиентов.\n// Каждую итерацию увеличиваем на 0.5 от цены.\nconst setPriceByDiameter = (diameterIdx, price) =>\n  price *\n  (diameterIdx % 2 && diameterIdx !== 0 ? diameterIdx + 0.5 : diameterIdx + 1);\n\nconst PizzaModal = ({\n  pizza,\n  isOpen,\n  updateIngredients,\n  updateDough,\n  updateDiameter,\n  onSelectPizza,\n}) => {\n  const {\n    name,\n    dough,\n    diameters,\n    ingredients,\n    optionalIngredients,\n    price,\n    photo,\n  } = pizza;\n\n  let image = photo;\n\n  if (!image) {\n    image = Photo;\n  }\n\n  const selectedDiameterIdx = useMemo(\n    () => diameters.findIndex((diameter) => diameter.selected),\n    [diameters],\n  );\n\n  const optionalIngredientsByDiameter = useMemo(\n    () =>\n      optionalIngredients.map((optionalIngredient) => ({\n        ...optionalIngredient,\n        price: setPriceByDiameter(\n          selectedDiameterIdx,\n          optionalIngredient.price,\n        ),\n      })),\n    [optionalIngredients, selectedDiameterIdx],\n  );\n\n  const totalPrice = useMemo(() => {\n    const additionalPrice = optionalIngredientsByDiameter.reduce(\n      (prev, optionalIngredient) => {\n        const sum =\n          optionalIngredient.selected === true ? optionalIngredient.price : 0;\n        return prev + sum;\n      },\n      0,\n    );\n\n    return price[selectedDiameterIdx] + additionalPrice;\n  }, [price, selectedDiameterIdx, optionalIngredientsByDiameter]);\n\n  const className = `${styles['product-modal']}${\n    !isOpen ? ` ${styles['product-modal_hidden']}` : ''\n  }`;\n\n  const onSelectPizzaHandler = () => {\n    onSelectPizza(totalPrice);\n  };\n\n  return (\n    <div className={className} onClick={(e) => e.stopPropagation()}>\n      <div className={styles['product-modal__photo']}>\n        <img src={image} alt=\"product_photo\" />\n      </div>\n      <div className={styles['product-modal__info']}>\n        <h2>{name}</h2>\n        <div className={styles['product-modal__info-block']}>\n          <PizzaModalIngredients\n            ingredients={ingredients}\n            updateIngredients={updateIngredients}\n            styles={styles}\n          />\n          <div className={styles['product-modal__info-dough']}>\n            <Tabs tabs={dough} onChange={updateDough} />\n            <Tabs tabs={diameters} onChange={updateDiameter} />\n          </div>\n          <h3>Добавить в пиццу</h3>\n          <PizzaModalIngredients\n            ingredients={optionalIngredientsByDiameter}\n            updateIngredients={updateIngredients}\n            styles={styles}\n            isOptional\n          />\n        </div>\n        <div className={styles['product-modal__info-total']}>\n          <PizzaModalTotal\n            onSelectPizza={onSelectPizzaHandler}\n            totalPrice={totalPrice}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withModalWrapper(PizzaModal);\n","// extracted by mini-css-extract-plugin\nexport default {\"product-modal\":\"pizza-modal_product-modal__Zspbw\",\"product-modal__photo\":\"pizza-modal_product-modal__photo__-NtEQ\",\"product-modal__photo_simple\":\"pizza-modal_product-modal__photo_simple__bFnuS\",\"product-modal__info\":\"pizza-modal_product-modal__info__gpgBB\",\"product-modal__info-block\":\"pizza-modal_product-modal__info-block__L4qfF\",\"product-modal__info-ingredients\":\"pizza-modal_product-modal__info-ingredients__smswO\",\"product-modal__info-ingredient\":\"pizza-modal_product-modal__info-ingredient__pA9dj\",\"product-modal__info-ingredient-name\":\"pizza-modal_product-modal__info-ingredient-name__xz8ky\",\"product-modal__info-ingredient-price\":\"pizza-modal_product-modal__info-ingredient-price__c84Mq\",\"product-modal__info-dough\":\"pizza-modal_product-modal__info-dough__+Ypxs\",\"product-modal__info-total\":\"pizza-modal_product-modal__info-total__l4vRf\",\"product-modal__info-total_simple\":\"pizza-modal_product-modal__info-total_simple__DZjd7\",\"product-modal__info_simple\":\"pizza-modal_product-modal__info_simple__Qq3qs\",\"product-modal_simple\":\"pizza-modal_product-modal_simple__LNEUE\"};"],"names":["_ref","_ref$tabs","tabs","onChange","_jsx","className","styles","children","map","tab","Button","white","selected","onClick","id","title","element","isOptional","name","photo","price","NoPhoto","_jsxs","CheckboxButton","outline","initialChecked","src","alt","ingredients","updateIngredients","otherProps","_objectWithoutProperties","_excluded","withSlider","PizzaModalIngredient","count","elementClassName","elements","listClassName","_objectSpread","totalPrice","onSelectPizza","_Fragment","setPriceByDiameter","diameterIdx","withModalWrapper","pizza","isOpen","updateDough","updateDiameter","dough","diameters","optionalIngredients","image","Photo","selectedDiameterIdx","useMemo","findIndex","diameter","optionalIngredientsByDiameter","optionalIngredient","additionalPrice","reduce","prev","concat","e","stopPropagation","PizzaModalIngredients","Tabs","PizzaModalTotal"],"sourceRoot":""}