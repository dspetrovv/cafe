"use strict";(self.webpackChunkcafe=self.webpackChunkcafe||[]).push([[211],{211:function(o,n,e){e.r(n),e.d(n,{default:function(){return Z}});var i=e(413),t=e(791),d=e(408),a=e(144),r=e(927),l="tabs_tab__0uHOh",c=e(184),_=function(o){var n=o.tabs,e=void 0===n?[]:n,i=o.onChange;return(0,c.jsx)("div",{className:l,children:e.map((function(o){return(0,c.jsx)(r.Z,{white:!o.selected,onClick:function(){return n=o.id,void i(n);var n},children:o.title},o.id)}))})},s=e(925),p=e(192),u=e(557),m=e(708),f=function(o){var n=o.styles,e=o.element,i=o.onChange,t=o.isOptional,d=e.id,a=e.name,r=e.photo,l=e.price,_=e.selected;return r||u,(0,c.jsxs)("div",{className:n["product-modal__info-ingredient"],children:[(0,c.jsx)(m.Z,{outline:!0,initialChecked:_,onChange:function(){i(d,t)},children:(0,c.jsx)("img",{src:u,alt:"product_photo"})}),(0,c.jsx)("span",{className:n["product-modal__info-ingredient-name"],title:a,children:a}),l&&(0,c.jsxs)("span",{className:n["product-modal__info-ingredient-price"],children:[l," \u20bd"]})]})},h=["ingredients","updateIngredients","styles"],g=function(o){var n=o.ingredients,e=o.updateIngredients,t=o.styles,d=(0,s.Z)(o,h);return(0,p.Z)(f,{count:3,elementClassName:t["product-modal__info-ingredient"],elements:n,listClassName:t["product-modal__info-ingredients"]})((0,i.Z)({styles:t,onChange:e},d))},z=function(o){var n=o.totalPrice,e=o.onSelectPizza;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("h2",{children:["\u0418\u0442\u043e\u0433\u043e: ",n," \u20bd"]}),(0,c.jsx)(r.Z,{onClick:e,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},x=e(872),j=function(o,n){return n*(o%2&&0!==o?o+.5:o+1)},Z=(0,a.Z)((function(o){var n=o.pizza,e=o.isOpen,a=o.updateIngredients,r=o.updateDough,l=o.updateDiameter,s=o.onSelectPizza,p=n.name,u=n.dough,m=n.diameters,f=n.ingredients,h=n.optionalIngredients,Z=n.price,v=n.photo;v||(v=d);var C=(0,t.useMemo)((function(){return m.findIndex((function(o){return o.selected}))}),[m]),N=(0,t.useMemo)((function(){return h.map((function(o){return(0,i.Z)((0,i.Z)({},o),{},{price:j(C,o.price)})}))}),[h,C]),b=(0,t.useMemo)((function(){var o=N.reduce((function(o,n){return o+(!0===n.selected?n.price:0)}),0);return Z[C]+o}),[Z,C,N]),k="".concat(x.Z["product-modal"]).concat(e?"":" ".concat(x.Z["product-modal_hidden"]));return(0,c.jsxs)("div",{className:k,onClick:function(o){return o.stopPropagation()},children:[(0,c.jsx)("div",{className:x.Z["product-modal__photo"],children:(0,c.jsx)("img",{src:v,alt:"product_photo"})}),(0,c.jsxs)("div",{className:x.Z["product-modal__info"],children:[(0,c.jsx)("h2",{children:p}),(0,c.jsxs)("div",{className:x.Z["product-modal__info-block"],children:[(0,c.jsx)(g,{ingredients:f,updateIngredients:a,styles:x.Z}),(0,c.jsxs)("div",{className:x.Z["product-modal__info-dough"],children:[(0,c.jsx)(_,{tabs:u,onChange:r}),(0,c.jsx)(_,{tabs:m,onChange:l})]}),(0,c.jsx)("h3",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u0438\u0446\u0446\u0443"}),(0,c.jsx)(g,{ingredients:N,updateIngredients:a,styles:x.Z,isOptional:!0})]}),(0,c.jsx)("div",{className:x.Z["product-modal__info-total"],children:(0,c.jsx)(z,{onSelectPizza:function(){s(b)},totalPrice:b})})]})]})}))},872:function(o,n){n.Z={"product-modal":"pizza-modal_product-modal__Zspbw","product-modal__photo":"pizza-modal_product-modal__photo__-NtEQ","product-modal__photo_simple":"pizza-modal_product-modal__photo_simple__bFnuS","product-modal__info":"pizza-modal_product-modal__info__gpgBB","product-modal__info-block":"pizza-modal_product-modal__info-block__L4qfF","product-modal__info-ingredients":"pizza-modal_product-modal__info-ingredients__smswO","product-modal__info-ingredient":"pizza-modal_product-modal__info-ingredient__pA9dj","product-modal__info-ingredient-name":"pizza-modal_product-modal__info-ingredient-name__xz8ky","product-modal__info-ingredient-price":"pizza-modal_product-modal__info-ingredient-price__c84Mq","product-modal__info-dough":"pizza-modal_product-modal__info-dough__+Ypxs","product-modal__info-total":"pizza-modal_product-modal__info-total__l4vRf","product-modal__info-total_simple":"pizza-modal_product-modal__info-total_simple__DZjd7","product-modal__info_simple":"pizza-modal_product-modal__info_simple__Qq3qs","product-modal_simple":"pizza-modal_product-modal_simple__LNEUE"}}}]);
//# sourceMappingURL=211.b75a7339.chunk.js.map